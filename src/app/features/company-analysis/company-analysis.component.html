<mat-sidenav-container class="analysis-container">
  <!-- Left Sidebar -->
  <mat-sidenav mode="side" opened class="sidebar">
    <div class="sidebar-content">
      <!-- Logo -->
      <div class="logo">
        <span class="logo-icon">*</span>
        <span class="logo-text">logo</span>
      </div>
      
      <!-- Navigation Menu -->
      <mat-nav-list class="nav-menu">
        <a mat-list-item class="nav-item" routerLink="/dashboard">
          <mat-icon>work_outline</mat-icon>
          <span>Dashboard</span>
        </a>
        <a mat-list-item class="nav-item active">
          <mat-icon>analytics</mat-icon>
          <span>Analysis</span>
        </a>
        <a mat-list-item class="nav-item">
          <mat-icon>flash_on</mat-icon>
          <span>Deals</span>
        </a>
        <a mat-list-item class="nav-item">
          <mat-icon>science</mat-icon>
          <span>Pipeline</span>
        </a>
        <a mat-list-item class="nav-item">
          <mat-icon>settings_outline</mat-icon>
          <span>Settings</span>
        </a>
      </mat-nav-list>
      
      <!-- Action Buttons -->
      <div class="action-buttons">
        <button mat-raised-button color="primary" class="action-btn">
          <mat-icon>notifications_outline</mat-icon>
          Notifications
        </button>
        <button mat-raised-button color="primary" class="action-btn">
          <mat-icon>chat_outline</mat-icon>
          Messages
        </button>
      </div>
      
      <!-- Footer -->
      <div class="sidebar-footer">
        <p class="version">Version 1.0.0</p>
        <p class="copyright">Â© 2024 AcquisitionFlow. All rights reserved.</p>
      </div>
    </div>
  </mat-sidenav>
  
  <!-- Main Content -->
  <mat-sidenav-content class="main-content">
    <!-- Top Header -->
    <mat-toolbar class="header">
      <div class="header-left">
        <a class="nav-link" routerLink="/dashboard">Dashboard</a>
        <a class="nav-link active">Analysis</a>
        <a class="nav-link">Reports</a>
        <a class="nav-link">Teams</a>
      </div>
      
      <div class="header-center">
        <mat-form-field appearance="outline" class="search-field">
          <mat-icon matPrefix>search</mat-icon>
          <input matInput placeholder="Search analysis, companies...">
        </mat-form-field>
      </div>
      
      <div class="header-right">
        <a class="utility-link">
          <mat-icon>support_agent</mat-icon>
          Support
        </a>
        <a class="utility-link">
          <mat-icon>feedback_outline</mat-icon>
          Feedback
        </a>
        <div class="user-profile" (click)="logout()">
          <mat-icon class="profile-icon">account_circle</mat-icon>
        </div>
      </div>
    </mat-toolbar>
    
    <!-- Analysis Content -->
    <div class="analysis-content">
      <!-- Loading State -->
      <div class="loading-state" *ngIf="loading">
        <mat-icon class="loading-icon">refresh</mat-icon>
        <p>Loading company analysis...</p>
      </div>
      
      <!-- Error State -->
      <div class="error-state" *ngIf="error && !loading">
        <mat-icon class="error-icon">error_outline</mat-icon>
        <h3>Error Loading Analysis</h3>
        <p>{{ error }}</p>
        <button mat-raised-button color="primary" (click)="loadAnalysisData()">Retry</button>
      </div>
      
      <!-- Content when data is loaded -->
      <div *ngIf="!loading && !error">
        <!-- Company Header -->
        <div class="company-header">
          <div class="company-title-section">
            <h1 class="company-title">{{ selectedCompany?.name || 'Company Name Not Available' }}</h1>
            <div class="company-relationship">
              <span class="buyer-company">{{ buyerCompanyName || 'Portfolio Company' }}</span>
            </div>
          </div>
          <div class="synergy-score-badge">
            <span class="score-label">Synergy Score</span>
            <span class="score-value">{{ selectedCompany?.synergyScore || 0 }}</span>
          </div>
        </div>
        
        <!-- Analysis Container -->
        <div class="analysis-container">
          <!-- Left Panel - Company Details -->
          <div class="company-details-panel">
            <h3 class="panel-title">Company Overview</h3>
            
            <div class="company-info-grid">
              <div class="info-item">
                <span class="info-label">Industry</span>
                <span class="info-value">{{ selectedCompany?.industry || 'N/A' }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Revenue</span>
                <span class="info-value">{{ selectedCompany?.revenue || 'N/A' }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">EBITDA</span>
                <span class="info-value">{{ selectedCompany?.ebitda || 'N/A' }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Employees</span>
                <span class="info-value">{{ selectedCompany?.employees || 'N/A' }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Headquarters</span>
                <span class="info-value">{{ selectedCompany?.headquarters || 'N/A' }}</span>
              </div>
              <div class="info-item">
                <span class="info-label">Country</span>
                <span class="info-value">{{ selectedCompany?.country || 'N/A' }}</span>
              </div>
            </div>
            
            <div class="company-description">
              <h4>Description</h4>
              <p>{{ selectedCompany?.description || 'No description available.' }}</p>
            </div>
            
            <!-- <div class="key-products" *ngIf="selectedCompany?.keyProducts && selectedCompany.keyProducts.length > 0">
              <h4>Key Products</h4>
              <div class="product-list">
                <div class="product-item" *ngFor="let product of selectedCompany.keyProducts">
                  <h5>{{ product.productName }}</h5>
                  <p>{{ product.description }}</p>
                </div>
              </div>
            </div> -->
          </div>
          
          <!-- Right Panel - Synergy Analysis -->
          <div class="synergy-analysis-panel">
            <h3 class="panel-title">Synergy Analysis</h3>
            
            <div class="synergy-types">
              <div class="synergy-type" *ngFor="let synergy of synergyTypes">
                <div class="synergy-header">
                  <mat-icon class="synergy-icon">{{ synergy.icon }}</mat-icon>
                  <div class="synergy-info">
                    <h4 class="synergy-title">{{ synergy.title }}</h4>
                    <span class="synergy-impact impact-{{ (synergy.impact || 'medium').toLowerCase() }}">{{ synergy.impact || 'Medium' }}</span>
                  </div>
                  <div class="synergy-value">{{ synergy.value }}</div>
                </div>
                <p class="synergy-description">{{ synergy.description }}</p>
                <div class="synergy-timeline">
                  <mat-icon>schedule</mat-icon>
                  <span>{{ synergy.timeline }}</span>
                </div>
                <div class="synergy-examples">
                  <h5>Examples:</h5>
                  <ul>
                    <li *ngFor="let example of synergy.examples">{{ example }}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Footer -->
    <div class="page-footer">
      <div class="footer-links">
        <a href="#" class="footer-link">Resources</a>
        <a href="#" class="footer-link">Legal</a>
      </div>
      <div class="social-icons">
        <a href="#" class="social-icon">
          <mat-icon>facebook</mat-icon>
        </a>
        <a href="#" class="social-icon">
          <mat-icon>twitter</mat-icon>
        </a>
        <a href="#" class="social-icon">
          <mat-icon>business</mat-icon>
        </a>
        <a href="#" class="social-icon">
          <mat-icon>code</mat-icon>
        </a>
      </div>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
